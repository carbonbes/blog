<template>
  <Dialog
    :class="editorDialogClasses"
    @pointerDownOutside="(e) => previewIsOpen && e.preventDefault()"
    @close="setOpen(false)"
    ref="dialogRef"
  >
    <Editor :data :disableScroll="scrollIsLocked" />

    <template #footer>
      <EditorPanel />
    </template>
  </Dialog>
</template>

<script lang="ts" setup>
import type Dialog from '~/components/global/Dialog.vue'

const dialogRef = ref<InstanceType<typeof Dialog>>()

const { setOpen, scrollIsLocked } = useEditorDialog(dialogRef)
const { previewIsOpen } = useImagePreview()

const data = {
  type: 'doc',
  content: [
    {
      type: 'rootNode',
      attrs: {
        pin: false,
        spoiler: false,
      },
      content: [
        {
          type: 'sn-embed',
          attrs: {
            url: null,
            embed: {
              author: {
                avatar:
                  'https://res.cloudinary.com/dkmur8a20/image/upload/v1721636992/kkonmi8z730xj8yc9j7y.jpg',
                name: 'ÐšÐ¾Ð´ Ð”ÑƒÑ€Ð¾Ð²Ð°',
                username: 'd_code',
                url: 'https://t.me/d_code',
              },
              text: 'ðŸª™ Ð–ÐµÑ‚Ð¾Ð½Ñ‹ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ð»Ð¸ //\n\nÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ð¹ ÐºÑ€Ð¸Ð¿Ñ‚Ð¾ÐºÐ¾ÑˆÐµÐ»Ñ‘Ðº Trust Wallet Ð´Ð¾Ð±Ð°Ð²Ð¸Ð» Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ Ð¶ÐµÑ‚Ð¾Ð½Ð¾Ð² Ð² Ð¡ÐµÑ‚Ð¸ TON. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ ÑÐ¼Ð¾Ð³ÑƒÑ‚ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð²ÑÐµÐ¼Ð¸ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð°ÐºÑ‚Ð¸Ð²Ð°Ð¼Ð¸ Ð½Ð° Ð±Ð»Ð¾ÐºÑ‡ÐµÐ¹Ð½Ðµ TON.\n\nÐÐ°Ð¿Ð¾Ð¼Ð½Ð¸Ð¼, Ñ€Ð°Ð½ÐµÐµ Ð² Ð¡ÐµÑ‚Ð¸ TON ÑÐ¾ÑÑ‚Ð¾ÑÐ»Ð°ÑÑŒ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾Ð³Ð¾ ÑÑ‚ÐµÐ¹Ð±Ð»ÐºÐ¾Ð¸Ð½Ð° â€” USDt. Ð’ÑÐµÐ³Ð¾ Ð·Ð° Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼ÐµÑÑÑ†ÐµÐ² Ð¾Ð±Ñ‰Ð°Ñ ÑÐ¼Ð¸ÑÑÐ¸Ñ Ð² Ð¡ÐµÑ‚Ð¸ ÑÐ¾ÑÑ‚Ð°Ð²Ð¸Ð»Ð° Ð±Ð¾Ð»ÐµÐµ 730 Ð¼Ð»Ð½ USDt, Ð´Ð»Ñ Tether ÑÑ‚Ð¾ ÑÑ‚Ð°Ð»Ð¾ Ð»ÑƒÑ‡ÑˆÐ¸Ð¼ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¼ ÑÑ€ÐµÐ´Ð¸ Ð²ÑÐµÑ… Ð±Ð»Ð¾ÐºÑ‡ÐµÐ¹Ð½Ð¾Ð².\n\n@d_code',
              media: [
                {
                  url: 'https://res.cloudinary.com/dkmur8a20/image/upload/v1721636993/a9rdf7gye1v0rm8sa5rk.jpg',
                  width: 2121,
                  height: 1453,
                  type: 'image',
                },
              ],
              published: 1721489663000,
              type: 'telegram',
              url: 'https://t.me/d_code/19708',
            },
            type: 'telegram',
          },
        },
      ],
    },
    {
      type: 'rootNode',
      attrs: {
        pin: false,
        spoiler: false,
      },
      content: [
        {
          type: 'sn-embed',
          attrs: {
            url: null,
            embed: {
              author: {
                avatar:
                  'https://res.cloudinary.com/dkmur8a20/image/upload/v1720171037/t0dccw1nvvaya4not1i7.jpg',
                name: 'NASA',
                username: 'NASA',
                url: 'https://x.com/NASA',
              },
              text: "We're launching into #WomensHistoryMonth with a stellar salute to the incredible women who lead the way to change and inspire future generations. We celebrate the accomplishments youâ€™ve made as you to contribute to NASAâ€™s journey to the stars.",
              media: [
                {
                  url: 'http://res.cloudinary.com/dkmur8a20/image/upload/v1720171036/pwyi2p9k7hwbkprbw2to.jpg',
                  width: 1000,
                  height: 839,
                  type: 'image',
                },
                {
                  url: 'http://res.cloudinary.com/dkmur8a20/image/upload/v1720171036/vkxt91ohr3ibnokgojda.jpg',
                  width: 1041,
                  height: 833,
                  type: 'image',
                },
                {
                  url: 'http://res.cloudinary.com/dkmur8a20/image/upload/v1720171036/ybsgxphshmjysz7ur037.jpg',
                  width: 1064,
                  height: 707,
                  type: 'image',
                },
              ],
              published: 'Fri Mar 01 19:36:34 +0000 2024',
              type: 'x',
              url: 'https://x.com/NASA/status/1763649550479241501',
            },
            type: 'x',
          },
        },
      ],
    },
    {
      type: 'rootNode',
      attrs: {
        pin: false,
        spoiler: false,
      },
      content: [
        {
          type: 'sn-embed',
          attrs: {
            url: null,
            embed: {
              author: {
                avatar:
                  'https://res.cloudinary.com/dkmur8a20/image/upload/v1721645137/ekmbi0ct8hguiholr5h2.jpg',
                name: 'Big Geek',
                username: 'biggeekru',
                url: 'https://t.me/biggeekru',
              },
              text: 'Unihertz Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð¸Ð»Ð° Ð½Ð¾Ð²Ð¾Ðµ Ð¿Ð¾ÐºÐ¾Ð»ÐµÐ½Ð¸Ðµ ÑÐ²Ð¾ÐµÐ³Ð¾ ÐºÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ð¾Ð³Ð¾ ÑÐ¼Ð°Ñ€Ñ‚Ñ„Ð¾Ð½Ð° â€” Jelly Max\n\nÐ¢ÐµÐ¿ÐµÑ€ÑŒ ÑÑ‚Ð¾ ÑÐ°Ð¼Ñ‹Ð¹ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ð¹ ÑÐ¼Ð°Ñ€Ñ‚Ñ„Ð¾Ð½ Ð½Ð° Ñ€Ñ‹Ð½ÐºÐµ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ 5G. Ð˜Ð· Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ñ… Ñ„Ð¸ÑˆÐµÐº: Ð¿Ñ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð°Ñ Ð·Ð°Ð´Ð½ÑÑ ÐºÑ€Ñ‹ÑˆÐºÐ° Ð¸ Ñ€ÐµÐ¼ÐµÑˆÐ¾Ðº Ð½Ð° Ñ€ÑƒÐºÑƒ Ð² ÐºÐ¾Ð¼Ð¿Ð»ÐµÐºÑ‚Ðµ. ÐžÑ‚Ð´ÐµÐ»ÑŒÐ½Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾ÐºÑƒÐ¿Ð¸Ñ‚ÑŒ Ñ€ÐµÐ¼ÐµÑˆÐ¾Ðº Ñ‡ÐµÑ€ÐµÐ· Ð¿Ð»ÐµÑ‡Ð¾.\n\nâ€¢ Ð”Ð¸ÑÐ¿Ð»ÐµÐ¹: 5,05" 1520x720 IPS\nâ€¢ Ð§Ð¸Ð¿ÑÐµÑ‚: Dimensity 7300\nâ€¢ ÐšÐ°Ð¼ÐµÑ€Ñ‹: 100 ÐœÐ¿ + 8 ÐœÐ¿ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ðº + 32 ÐœÐ¿ ÑÐµÐ»Ñ„Ð¸\nâ€¢ ÐŸÐ°Ð¼ÑÑ‚ÑŒ: 12/256 Ð“Ð‘ + microSD\nâ€¢ Ð¡Ð²ÑÐ·ÑŒ: 5G, NFC, Wi-Fi 6, Bluetooth 5.3\nâ€¢ Ð‘Ð¸Ð¾Ð¼ÐµÑ‚Ñ€Ð¸Ñ: ÑÐºÐ°Ð½ÐµÑ€ Ð¾Ñ‚Ð¿ÐµÑ‡Ð°Ñ‚ÐºÐ¾Ð² Ð½Ð° ÑÐ¿Ð¸Ð½ÐºÐµ\nâ€¢ Ð’Ð¾Ð´Ð¾Ð·Ð°Ñ‰Ð¸Ñ‚Ð°: Ð½ÐµÑ‚\nâ€¢ ÐÐºÐºÑƒÐ¼ÑƒÐ»ÑÑ‚Ð¾Ñ€ Ð¸ Ð·Ð°Ñ€ÑÐ´ÐºÐ°: 4000 Ð¼ÐÑ‡, 66 Ð’Ñ‚\nâ€¢ Ð“Ð°Ð±Ð°Ñ€Ð¸Ñ‚Ñ‹: 128,7 Ñ… 62,7 x 16,3 Ð¼Ð¼\nâ€¢ Ð¦ÐµÐ½Ð°: $339 (~29 900 â‚½)',
              media: [
                {
                  url: 'https://res.cloudinary.com/dkmur8a20/image/upload/v1721645138/abpgejskpsy820i5d9vf.jpg',
                  width: 780,
                  height: 440,
                  type: 'image',
                },
                {
                  url: 'https://res.cloudinary.com/dkmur8a20/image/upload/v1721645138/a0osvtjptkxgczi3jkdm.jpg',
                  width: 780,
                  height: 440,
                  type: 'image',
                },
                {
                  url: 'https://res.cloudinary.com/dkmur8a20/image/upload/v1721645138/fwcmqqplueotgahdx0q1.jpg',
                  width: 680,
                  height: 680,
                  type: 'image',
                },
                {
                  url: 'https://res.cloudinary.com/dkmur8a20/image/upload/v1721645138/vs29j9ut6u2tdmcxvrkd.jpg',
                  width: 680,
                  height: 419,
                  type: 'image',
                },
              ],
              published: 1721203273000,
              type: 'telegram',
              url: 'https://t.me/biggeekru/26500',
            },
            type: 'telegram',
          },
        },
      ],
    },
  ],
}

const editorDialogClasses = computed(
  () => 'fixed inset-0 w-full h-full max-w-[780px] sm:max-h-[800px]'
)
</script>
